(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(1660)}])},1660:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return K}});var n=t(5893),s=t(7294),i=t(629),l=t(6886),d=t(913),r=t(3841),o=t(2059),c=t(5819),h=t(5449),u=t(7109),m=t(3946),p=t(4219),x=function(e,a){let t;return function(){for(var n=arguments.length,s=Array(n),i=0;i<n;i++)s[i]=arguments[i];clearTimeout(t),t=setTimeout(()=>e.apply(this,s),a)}};function g(e){let a=e.query;return(0,s.useCallback)(x(e.setQuery,1e3),[]),(0,n.jsx)("div",{className:"field",children:(0,n.jsxs)(d.Z,{variant:"filled",disabled:e.disabled,sx:{width:"100%"},children:[(0,n.jsx)(r.Z,{id:"".concat(e.name,"-label"),children:void 0===e.label?e.name[0].toUpperCase()+e.name.slice(1,e.name.length).toLowerCase():e.label}),(0,n.jsx)(o.Z,{labelId:"".concat(e.name,"-label"),className:"field",value:e.query[e.name],multiple:!0,onChange:t=>{e.setQuery({...a,[e.name]:t.target.value})},children:e.options.map(e=>(0,n.jsx)(c.Z,{value:e,children:e},e))})]})})}let j=(0,s.forwardRef)(function(e,a){let[t,j]=(0,s.useState)({gender:"",name:"",batch:[],hall:[],prog:[],dept:[],bloodgrp:[],address:""}),f=(0,s.useCallback)(x(e.sendQuery,300),[]);return(0,s.useEffect)(()=>{f(t)},[t]),(0,n.jsx)(i.Z,{className:"options",children:(0,n.jsxs)(l.ZP,{container:!0,rowSpacing:4,columnSpacing:4,sx:{width:"100%"},children:[(0,n.jsx)(l.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,n.jsx)(g,{disabled:e.loading,query:t,name:"batch",options:e.listOpts.batch,setQuery:j})}),(0,n.jsx)(l.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,n.jsx)("div",{className:"field",children:(0,n.jsxs)(d.Z,{variant:"filled",disabled:e.loading,sx:{width:"100%"},children:[(0,n.jsx)(r.Z,{id:"gender-label",children:"Gender"}),(0,n.jsxs)(o.Z,{className:"field",labelId:"gender-label",value:t.gender,onChange:e=>{j({...t,gender:e.target.value})},children:[(0,n.jsx)(c.Z,{value:"",children:"Any"}),(0,n.jsx)(c.Z,{value:"F",children:"Female"}),(0,n.jsx)(c.Z,{value:"M",children:"Male"})]})]})})}),(0,n.jsx)(l.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,n.jsx)(g,{disabled:e.loading,query:t,name:"hall",options:e.listOpts.hall,setQuery:j})}),(0,n.jsx)(l.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,n.jsx)(g,{disabled:e.loading,query:t,name:"prog",label:"Programme",options:e.listOpts.prog,setQuery:j})}),(0,n.jsx)(l.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,n.jsx)(g,{disabled:e.loading,query:t,name:"dept",label:"Department",options:e.listOpts.dept,setQuery:j})}),(0,n.jsx)(l.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,n.jsx)(g,{disabled:e.loading,query:t,name:"bloodgrp",label:"Blood group",options:e.listOpts.bloodgrp,setQuery:j})}),(0,n.jsx)(l.ZP,{item:!0,xs:12,children:(0,n.jsx)("div",{style:{margin:"auto",width:"fit-content"},children:(0,n.jsx)(d.Z,{variant:"filled",disabled:e.loading,children:(0,n.jsx)(h.Z,{disabled:e.loading,className:"field home",label:"Hometown",value:t.address,onChange:e=>{j({...t,address:e.target.value})}})})})}),(0,n.jsx)(l.ZP,{item:!0,xs:12,children:(0,n.jsx)(d.Z,{variant:"filled",disabled:e.loading,style:{width:"100%"},children:(0,n.jsx)(h.Z,{disabled:e.loading,className:"field main-text",label:"Enter name, username or roll no.",value:t.name,InputProps:{endAdornment:(0,n.jsx)(u.Z,{position:"end",children:(0,n.jsx)(m.Z,{disabled:0===t.name.length,onClick:()=>{j({...t,name:""})},children:(0,n.jsx)(p.Z,{})})})},onChange:e=>{j({...t,name:e.target.value})},inputRef:a,autoFocus:!0})})})]})})});var f=t(6242),v=t(3321),y={src:"/_next/static/media/GenericMale.592f9e48.png",height:128,width:128,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAyUlEQVR42mMAgQQXE85wG71lQPwjzFrvd5i17iQGZBBkpllhIy/1X4OB868hv+A/Zw2F/yEW2k1wBTZqSn3zqmP/75la+OvCsrrfi+oS/gOFl8EVnJ5duOvJ9p7/v0/P+v33zOzf9zd3/j82LXcfXMH3vV3l349P///z+LT/v4D4B5D951BvGQMIPD8ykxFE/7+0qPvvmTn/QBjEBon9uLCQEW7KpxwGtZ8bK278XF9+E8RmQAbfpyjUAPH/b30MYAxig8QYGBgYAHiwaS/XPCR0AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},b={src:"/_next/static/media/GenericFemale.40cafc87.png",height:128,width:128,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAxklEQVR42mMAgVRPU55sX8ttOf5Wf0EYxAaJMcBApo95a7yTwf8AE9U/gUAMYoPE4AoSXY0OzauK+b9tQs6fbf05f+ZVx/wHicEV5Adan7i8qun/nzOz//47O+fvpZUN/0FicAUZPuaHH69t///31Mw/f0/P/PNobdv/dG+zw3AFzmoSG47OLv///8zsPyAMYjuriW9AKDDV6k13Uv7/YlPT7xcbG3+nO6n8B4nBFRxu8yt4MT/y/9clib9BGMQGiTEwMDAAAF8ja3oCLQyAAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8};function w(e){return(0,n.jsx)("div",{style:{width:"150px",height:"150px",position:"relative",borderRadius:"100%",flexShrink:"0",backgroundImage:'url("https://home.iitk.ac.in/~'.concat(e.u,'/dp"),url("https://oa.cc.iitk.ac.in/Oa/Jsp/Photo/').concat(e.i,'_0.jpg"),url("').concat("F"===e.g?b.src:y.src,'")'),backgroundPosition:"center top",backgroundSize:"cover",...e.style}})}var A=t(6278),Z=t(7495),k=t(6389),C=t(2975),E=t(7693),P=t(233);let N=s.forwardRef((e,a)=>{switch(e.compact){case"ultra":return(0,n.jsxs)(f.Z,{className:"student-card-ultra-compact",ref:a,style:{cursor:e.pointer?"pointer":"auto"},onClick:a=>{a.stopPropagation(),void 0!==e.onClick&&e.onClick(a)},children:[(0,n.jsx)(w,{style:{width:100,height:100},u:e.data.u,i:e.data.i,g:e.data.g,alt:"Image of student"}),(0,n.jsxs)("div",{className:"data",children:[(0,n.jsx)("p",{children:e.data.n}),(0,n.jsx)("p",{children:e.data.i}),Array.isArray(e.data.c)&&e.data.c.length>0&&(0,n.jsx)("div",{style:{width:"20px",height:"20px"},children:(0,n.jsx)(A.Z,{})})]})]},e.data.i);case!0:return(0,n.jsxs)(f.Z,{className:"student-card-compact",ref:a,style:{cursor:e.pointer?"pointer":"auto"},onClick:a=>{a.stopPropagation(),void 0!==e.onClick&&e.onClick(a)},children:[(0,n.jsx)(w,{style:{width:150,height:150},u:e.data.u,i:e.data.i,g:e.data.g,alt:"Image of student"}),(0,n.jsxs)("div",{className:"data",children:[(0,n.jsx)("p",{children:e.data.n}),(0,n.jsx)("p",{children:e.data.d}),(0,n.jsx)("p",{children:e.data.i})]})]},e.data.i);case!1:return(0,n.jsxs)(f.Z,{className:"student-card",ref:a,style:{cursor:e.pointer?"pointer":"auto"},onClick:a=>{a.stopPropagation(),void 0!==e.onClick&&e.onClick(a)},children:[(0,n.jsx)(w,{style:{width:200,height:200},u:e.data.u,i:e.data.i,g:e.data.g,alt:"Image of student"}),(0,n.jsx)("p",{className:"name",children:e.data.n}),(0,n.jsx)("p",{className:"roll",children:e.data.i}),(0,n.jsxs)("p",{className:"dept",children:[e.data.p,", ",e.data.d]}),(0,n.jsxs)("div",{className:"more-data",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(Z.Z,{}),(0,n.jsxs)("p",{children:[e.data.r.length>0?e.data.r+", ":""," ",e.data.h]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(k.Z,{}),(0,n.jsx)("p",{children:e.data.a})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(C.Z,{}),(0,n.jsx)("p",{children:e.data.b})]}),e.data.u.length>0?(0,n.jsxs)("div",{children:[(0,n.jsx)(E.Z,{}),(0,n.jsx)("p",{children:(0,n.jsxs)("a",{href:"mailto:".concat(e.data.u,"@iitk.ac.in"),children:[e.data.u,"@iitk.ac.in"]})})]}):""]}),(0,n.jsx)("a",{href:"https://home.iitk.ac.in/~".concat(e.data.u),target:"_blank",children:(0,n.jsxs)(v.Z,{style:{flexDirection:"column"},children:[(0,n.jsx)(P.Z,{}),(0,n.jsx)("br",{}),(0,n.jsx)("div",{children:"Visit Homepage"})]})}),e.children]},e.data.i)}});N.displayName="Student Card";var S=t(9747),O=t(6743);let T=s.forwardRef((e,a)=>(0,n.jsx)(S.Z,{style:e.style,className:e.myname,appear:e.in,children:s.Children.map(e.children,e=>(0,n.jsx)(O.Z,{classNames:"fade",timeout:300,mountOnEnter:!0,unmountOnExit:!0,children:e}))}));T.displayName="Fade Animation Wrapper";var I=function(e){let[a,t]=(0,s.useState)(50),i="function"==typeof e.toShow.map?e.toShow.map(a=>(0,n.jsx)(N,{data:a,onClick:()=>{e.displayCard(a)},pointer:!0,compact:!0},a.i)):[],l=()=>{window.innerHeight+document.documentElement.scrollTop>document.documentElement.offsetHeight-200&&t(a+50)};return((0,s.useEffect)(()=>(window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)})),(0,s.useEffect)(()=>{t(50)},[e.toShow]),e.loading)?(0,n.jsx)("div",{children:(0,n.jsxs)("div",{id:"count",children:[(0,n.jsx)(f.Z,{children:"Loading..."}),(0,n.jsx)("div",{className:"loader"})]})}):(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{id:"count",children:(0,n.jsxs)(f.Z,{children:[i.length," ",1===i.length?"result":"results"," found"]})}),(0,n.jsx)(T,{myname:"display",children:i.slice(0,a)})]})},L=t(3327);function Q(e){let[a,t]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{""!==e.children&&t(!0)},[e.children]),(0,n.jsx)(L.Z,{style:{display:"flex",overflowY:"scroll",scrollBehavior:"smooth"},open:a,onClick:function(){e.clearOverlay(),setTimeout(()=>{t(!1)},300)},children:(0,n.jsx)(T,{myname:"overlay",in:a,children:""!==e.children?e.children:[]})})}var M=t(1927),D=t(1265),B=t(8032),F=t(2127),G=t(8262),R=t(9293),_=t(4550),U=function(e){return(0,n.jsxs)("div",{className:"tree-view",children:[void 0!=e.baapu?(0,n.jsx)(N,{pointer:!0,compact:"ultra",data:e.baapu,onClick:()=>{document.getElementsByClassName("MuiModal-root")[0].scrollTo(0,0),e.displayCard(e.baapu)}}):(0,n.jsx)(f.Z,{children:"Not Available :("}),(0,n.jsx)(N,{pointer:!0,compact:!0,data:e.data,onClick:()=>{e.displayCard(e.data)}}),(0,n.jsx)("div",{className:"bacchas",children:e.bacchas.length>0?e.bacchas.map(a=>(0,n.jsx)(N,{pointer:!0,compact:"ultra",data:a,onClick:t=>{document.getElementsByClassName("MuiModal-root")[0].scrollTo(0,0),e.displayCard(a)}},a.i)):""})]})},z=t(9520),H=t(7357),Y=t(5861);function q(){return(0,n.jsx)(i.Z,{sx:{marginTop:"calc(10% + 60px)",position:"fixed",bottom:0,width:"100%"},component:"footer",square:!0,variant:"outlined",children:(0,n.jsx)(z.Z,{maxWidth:"lg",children:(0,n.jsxs)(H.Z,{sx:{flexGrow:1,justifyContent:"center",display:"flex",alignItems:"center",mb:.5,mt:.5},children:[(0,n.jsxs)(Y.Z,{variant:"caption",sx:{fontSize:"0.80rem"},children:["Family tree provided by ",(0,n.jsx)("a",{href:"https://www.iitk.ac.in/counsel/",children:"Institute Counselling Service IITK"})]}),(0,n.jsx)("div",{children:(0,n.jsx)("img",{src:"/cslogo.png",width:18,height:18,style:{marginLeft:"8px"},alt:"Logo"})})]})})})}if(window.Worker)var V=new Worker(t.tu(new URL(t.p+t.u(646),t.b)));let W=window.top===window.self;function K(e){let[a,t]=(0,s.useState)([]),[i,l]=(0,s.useState)(!0),[d,r]=(0,s.useState)(),[o,c]=(0,s.useState)(!0),[h,u]=(0,s.useState)({batch:["Loading..."],hall:["Loading..."],prog:["Loading..."],dept:["Loading..."],bloodgrp:["Loading..."]}),[m,p]=(0,s.useState)(!1),x=(0,s.useRef)(null);function g(e){"query"==e.data[0]&&t(e.data[1].toSorted((e,a)=>{try{return Number(e.i)>Number(a.i)}catch(t){return e.i>a.i}}))}function y(e){if("ft"==e.data[0]){let[a,t,s]=e.data[1];r([(0,n.jsx)(U,{data:t,baapu:a,bacchas:s,displayCard:E,clearOverlay:k},"open"),(0,n.jsx)("div",{className:"footer-absolute",children:(0,n.jsx)(q,{})},"footer")])}}function b(e){"Options"==e.data[0]&&u(e.data[1])}function w(e){"Error"===e.data&&C((0,n.jsxs)(f.Z,{children:[(0,n.jsx)("h1",{children:"Data could not be retrieved locally nor fetched."}),(0,n.jsx)("h2",{children:"Please access the website from campus or via VPN once so that student data can be downloaded and stored."}),(0,n.jsx)("p",{children:"Check the console for more details."})]}))}(0,s.useEffect)(()=>(V.postMessage("ready?"),V.onmessage=null,V.onmessage=e=>{"Worker ready"!==e.data?w({data:"Error"}):(V.onmessage=e=>{"Options"==e.data[0]&&(c(!1),setTimeout(()=>{x.current&&x.current.focus()},0),u(e.data[1]),V.onmessage=null,V.addEventListener("message",g),V.addEventListener("message",y),V.addEventListener("message",b),V.addEventListener("message",w))},V.postMessage("Options"))},()=>{V.onmessage=null}),[]),(0,s.useEffect)(()=>{l("false"!==localStorage.getItem("darkmode"))},[]),(0,s.useEffect)(()=>{p(!W)},[]);let A=e=>{"/"===e.key&&x.current&&document.activeElement!=x.current?(e.preventDefault(),x.current.focus()):"Escape"===e.key&&document.activeElement&&document.activeElement instanceof HTMLElement&&document.activeElement.blur()};(0,s.useEffect)(()=>(document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}),[]),(0,s.useEffect)(()=>{i?document.body.style.backgroundColor="#000":document.body.style.backgroundColor="#efefef"},[i]);let Z=e=>{V.postMessage(e)},k=()=>{r(void 0)},C=e=>{k(),r([e])},E=e=>{k(),r([(0,n.jsx)(N,{compact:!1,data:e,children:(0,n.jsx)(v.Z,{onClick:()=>{P(e)},children:"Open Family Tree"})},"closed")])},P=e=>{k(),V.postMessage(["ft",e])};return m?(0,n.jsxs)("div",{style:{width:"60%",margin:"auto",color:"white"},children:[(0,n.jsxs)("h1",{children:["Please view this page at ",(0,n.jsx)("a",{href:"https://search.pclub.in",target:"_blank",children:"search.pclub.in"})]}),(0,n.jsx)("p",{children:"Credits:"}),(0,n.jsx)("p",{children:"Deven Gangwani"}),(0,n.jsx)("p",{children:"Krishnansh Agarwal"}),(0,n.jsx)("p",{children:"Programming Club, IITK"})]}):(0,n.jsx)("div",{children:(0,n.jsxs)(M.Z,{theme:i?(0,D.Z)({palette:{mode:"dark"}}):(0,D.Z)({}),children:[(0,n.jsxs)("div",{className:"buttons",style:{zIndex:"9999"},children:[(0,n.jsx)(B.Z,{onClick:()=>{l(!i),localStorage.setItem("darkmode",String(!i))},children:i?(0,n.jsx)(F.Z,{}):(0,n.jsx)(G.Z,{})}),(0,n.jsx)(B.Z,{onClick:()=>{C((0,n.jsxs)(f.Z,{style:{padding:"10px"},children:[(0,n.jsx)("h1",{children:"Setting a custom DP"}),(0,n.jsx)("p",{children:"You can customise the image shown here by placing a custom image in your iitk webhome folder called dp.jpg/dp.png such that going to http://home.iitk.ac.in/~yourusername/dp opens up that particular picture."}),(0,n.jsx)("h1",{children:"How do I update the data shown here?"}),(0,n.jsx)("p",{children:"The data here is scraped from the Office Automation Portal. The data there can be updated via the Login Based Services > Student Profile > PI form . If you have had a branch change, please go to the ID Cell and update your ID Card to update your branch."}),(0,n.jsx)("p",{children:"The changes if any will be reflected in about a week. "}),(0,n.jsx)("h1",{children:"I can't see students' pictures/I can't access student data."}),(0,n.jsx)("p",{children:"Access to student data is restricted to those currently on campus or connecting via VPN. Please visit the website once via either method so that the data can be stored locally. After this, you will be able to access student data from anywhere (as long as you don't wipe your cache or local files)."}),(0,n.jsx)("h1",{children:"Credits"}),(0,n.jsx)("p",{children:"Student Search has gone through many iterations over the years. The current one was made by Deven Gangwani and Krishnansh Agrawal (both Y21).The one just before this was made by Yash Srivastav (Y15)."}),(0,n.jsx)("p",{children:"Credit for Student Guide data (bacche, ammas and baapus) goes to the Counselling Service, IITK."})]}))},children:(0,n.jsx)(R.Z,{})}),(0,n.jsx)(B.Z,{style:{display:a.length<3e3&&a.length>0?"":"none"},onClick:()=>{C((0,n.jsxs)(f.Z,{style:{padding:"10px",width:"80vw",maxWidth:"1200px",maxHeight:"1000px"},children:[(0,n.jsx)("p",{children:"Press the 'copy' button to copy all email addresses."}),(0,n.jsx)("div",{style:{height:"60vh",overflow:"auto"},children:a.filter(e=>e.u.length>0).map(e=>e.u+"@iitk.ac.in").join(", ")}),(0,n.jsx)(v.Z,{variant:"contained",onClick:()=>{navigator.clipboard.writeText(a.filter(e=>e.u.length>0).map(e=>e.u+"@iitk.ac.in").join(", "))},children:"Copy"})]}))},children:(0,n.jsx)(_.Z,{})})]}),(0,n.jsx)(j,{sendQuery:Z,listOpts:h,loading:o,ref:x}),(0,n.jsx)("br",{}),(0,n.jsx)(I,{loading:o,toShow:a,displayCard:E}),(0,n.jsx)(Q,{clearOverlay:k,children:void 0!==d?d:""})]})})}}},function(e){e.O(0,[714,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);